import arb.soundcipher.*;

// Distintas notas de la cancion y sus tiempos
int[] pitch;
float[] start = {3.277775, 4.027775, 4.2550475, 4.48232, 4.7095925, 4.936865, 5.1641375, 5.3914100000000005, 5.6186825, 5.845955, 6.0732275, 6.3004999999999995, 6.5277725, 6.755045, 6.982317500000001, 7.20959, 7.4368625, 7.664135, 7.8914075, 8.118680000000001, 8.3459525, 8.573225, 8.8004975, 9.02777, 9.2550425, 9.482315, 9.709587500000001, 9.93686, 10.164132500000001, 10.391404999999999, 10.6186775, 10.84595, 11.0732225, 11.300495, 11.5277675, 11.755040000000001, 11.982312499999999, 12.209585, 12.4368575, 12.66413, 12.8914025, 13.118675, 13.3459475, 13.573220000000001, 13.8004925, 14.027765, 14.2550375, 14.48231, 14.7095825, 14.936855, 15.1641275, 15.3914, 15.6186725, 15.845945, 16.0732175, 16.30049, 16.5277625, 16.755035, 16.9823075, 17.209580000000003, 17.4368525, 17.664125, 17.8913975, 18.11867, 18.3459425, 18.573214999999998, 18.800487500000003, 19.02776, 19.2550325, 19.482305, 19.7095775, 19.93685, 20.164122499999998, 20.391395000000003, 20.6186675, 20.84594, 21.073212499999997, 21.300485000000002, 21.5277575, 21.755029999999998, 21.982302500000003, 22.209575, 22.4368475, 22.664119999999997, 22.891392500000002, 23.118665, 23.345937499999998, 23.573210000000003, 23.8004825, 24.027755, 24.255027499999997, 24.482300000000002, 24.7095725, 24.936844999999998, 25.164117500000003, 25.914117500000003, 26.141390000000005, 26.368662500000003, 26.595935000000004, 26.823207500000002, 27.050480000000004, 27.277752500000002, 27.505025000000003, 27.7322975, 27.959570000000003, 28.186842500000004, 28.414115000000002, 28.641387500000004, 28.868660000000002, 29.095932500000004, 29.323205, 29.550477500000003, 29.777750000000005, 30.005022500000003, 30.232295000000004, 30.459567500000002, 30.686840000000004, 30.9141125, 31.141385000000003, 31.368657500000005, 31.595930000000003, 31.823202500000004, 32.050475000000006, 32.277747500000004, 32.50502, 32.7322925, 32.959565000000005, 33.1868375, 33.41411, 33.641382500000006, 33.868655000000004, 34.0959275, 34.3232, 34.550472500000005, 34.777745, 35.0050175, 35.232290000000006, 35.459562500000004, 35.686835, 35.9141075, 36.141380000000005, 36.3686525, 36.595925, 36.823197500000006, 37.050470000000004, 37.2777425, 37.505015, 37.732287500000005, 37.95956, 38.1868325, 38.414105000000006, 38.641377500000004, 38.86865, 39.0959225, 39.323195000000005, 39.5504675, 39.77774, 40.00501250000001, 40.232285000000005, 40.4595575, 40.68683, 40.914102500000006, 41.141375000000004, 41.3686475, 41.59592000000001, 41.823192500000005, 42.050465, 42.2777375, 42.50501, 42.732282500000004, 42.959555, 43.18682750000001, 43.414100000000005, 43.6413725, 43.868645, 44.0959175, 44.323190000000004, 44.5504625, 44.77773500000001, 45.005007500000005, 45.23228, 45.4595525, 45.686825, 45.914097500000004, 46.14137, 46.36864250000001, 47.05046, 47.80046, 48.0277325, 48.255005000000004, 48.4822775, 48.70955, 48.9368225, 49.164095, 49.3913675, 49.61864, 49.845912500000004, 50.073185, 50.3004575, 50.52773, 50.7550025, 50.982275, 51.2095475, 51.43682, 51.6640925, 51.891365, 52.1186375, 52.34591, 52.5731825, 52.800455, 53.0277275, 53.255, 53.4822725, 53.709545, 53.936817500000004, 54.16409, 54.3913625, 54.618635, 54.8459075, 55.07318, 55.3004525, 55.527725000000004, 55.7549975, 55.98227, 56.2095425, 56.436815, 56.6640875, 56.89136, 57.118632500000004, 57.345905, 57.5731775, 57.80045, 58.0277225, 58.254995, 58.4822675, 58.709540000000004, 58.9368125, 59.164085, 59.3913575, 59.61863, 59.8459025, 60.073175, 60.300447500000004, 60.52772, 60.7549925, 60.982265, 61.2095375, 61.43681, 61.6640825, 61.891355000000004, 62.1186275, 62.3459, 62.5731725, 62.800445, 63.0277175, 63.25499, 63.482262500000004, 63.709535, 63.9368075, 64.16408, 64.3913525, 64.61862500000001, 64.8458975, 65.07317, 65.3004425, 65.527715, 65.7549875, 65.98226, 66.2095325, 66.43680499999999, 66.6640775, 66.89135, 67.1186225, 67.345895, 67.5731675, 67.80044000000001, 68.0277125, 68.254985, 68.4822575, 68.70953, 68.9368025, 69.6868025, 69.914075, 70.1413475, 70.36861999999999, 70.5958925, 70.823165, 71.0504375, 71.27771, 71.5049825, 71.732255, 71.9595275, 72.1868, 72.4140725, 72.641345, 72.8686175, 73.09589, 73.3231625, 73.550435, 73.7777075, 74.00498, 74.2322525, 74.459525, 74.6867975, 74.91407, 75.1413425, 75.368615, 75.5958875, 75.82316, 76.0504325, 76.277705, 76.5049775, 76.73225, 76.95952249999999, 77.186795, 77.4140675, 77.64134, 77.8686125, 78.095885, 78.3231575, 78.55043, 78.7777025, 79.004975, 79.2322475, 79.45952, 79.6867925, 79.914065, 80.14133749999999, 80.36861, 80.5958825, 80.823155, 81.0504275, 81.2777, 81.5049725, 81.732245, 81.9595175, 82.18679, 82.4140625, 82.641335, 82.8686075, 83.09588, 83.32315249999999, 83.550425, 83.7776975, 84.00497, 84.2322425, 84.459515, 84.6867875, 84.91406, 85.1413325, 85.368605, 85.5958775, 85.82315, 86.0504225, 86.277695, 86.50496749999999, 86.73223999999999, 86.9595125, 87.186785, 87.4140575, 87.64133, 87.8686025, 88.095875, 88.3231475, 88.55042, 88.7776925, 89.004965, 89.2322375, 89.45951, 89.68678249999999, 89.91405499999999, 90.1413275, 90.3686, 90.5958725, 90.823145, 91.573145, 91.8004175, 92.02768999999999, 92.25496249999999, 92.482235, 92.7095075, 92.93678, 93.1640525, 93.391325, 93.61859749999999, 93.84586999999999, 94.0731425, 94.300415, 94.5276875, 94.75496, 94.9822325, 95.209505, 95.43677749999999, 95.66405, 95.8913225, 96.118595, 96.3458675, 96.57314, 96.8004125, 97.02768499999999, 97.2549575, 97.48223, 97.7095025, 97.936775, 98.1640475, 98.39132, 98.61859249999999, 98.845865, 99.0731375, 99.30041, 99.5276825, 99.754955, 99.9822275, 100.20949999999999, 100.43677249999999, 100.664045, 100.8913175, 101.11859, 101.3458625, 101.573135, 101.80040749999999, 102.02768, 102.2549525, 102.482225, 102.7094975, 102.93677, 103.1640425, 103.39131499999999, 103.61858749999999, 103.84586, 104.0731325, 104.300405, 104.5276775, 104.75495, 104.98222249999999, 105.209495, 105.4367675, 105.66404, 105.8913125, 106.118585, 106.3458575, 106.57312999999999, 106.80040249999999, 107.027675, 107.2549475, 107.48222, 107.7094925, 107.936765, 108.16403749999999, 108.39131, 108.6185825, 108.845855, 109.0731275, 109.3004, 109.5276725, 109.75494499999999, 109.98221749999999, 110.20948999999999, 110.4367625, 110.664035, 110.8913075, 111.11858, 111.34585249999999, 111.573125, 111.8003975, 112.02767, 112.2549425, 112.482215, 112.7094875, 113.4594875, 113.68675999999999, 113.91403249999999, 114.14130499999999, 114.3685775, 114.59585, 114.8231225, 115.050395, 115.27766749999999, 115.50493999999999, 115.73221249999999, 115.959485, 116.1867575, 116.41403, 116.6413025, 116.86857499999999, 117.09584749999999, 117.32311999999999, 117.5503925, 117.777665, 118.0049375, 118.23221, 118.4594825, 118.68675499999999, 118.91402749999999, 119.1413, 119.3685725, 119.595845, 119.8231175, 120.05039, 120.27766249999999, 120.50493499999999, 120.73220749999999, 120.95948, 121.1867525, 121.414025, 121.6412975, 121.86856999999999, 122.09584249999999, 122.323115, 122.5503875, 122.77766, 123.0049325, 123.232205, 123.45947749999999, 123.68674999999999, 123.91402249999999, 124.141295, 124.3685675, 124.59584, 124.8231125, 125.05038499999999, 125.27765749999999, 125.50493, 125.7322025, 125.959475, 126.1867475, 126.41402, 126.64129249999999, 126.86856499999999, 127.09583749999999, 127.32311, 127.5503825, 127.777655, 128.0049275, 128.2322, 128.4594725, 128.686745, 128.9140175, 129.14129, 129.3685625, 129.595835, 129.8231075, 130.05038, 130.2776525, 130.504925, 130.73219749999998, 130.95947, 131.18674249999998, 131.414015, 131.6412875, 131.86856, 132.0958325, 132.323105, 132.5503775, 132.77765, 133.0049225, 133.232195, 133.4594675, 133.68674, 133.91401249999998};
float[] end = {3.9454833333333337, 4.175502125, 4.402774625, 4.630047125, 4.857319625000001, 5.084592125, 5.311864625, 5.539137125, 5.766409625, 5.993682125, 6.220954625, 6.448227125000001, 6.6754996250000005, 6.902772125, 7.130044625, 7.357317125, 7.584589625, 7.811862125, 8.039134624999999, 8.266407125, 8.493679625, 8.720952125, 8.948224625, 9.175497125, 9.402769625000001, 9.630042125, 9.857314625, 10.084587125, 10.311859625, 10.539132125, 10.766404625, 10.993677125000001, 11.220949625, 11.448222125000001, 11.675494624999999, 11.902767125, 12.130039625, 12.357312125, 12.584584625, 12.811857125, 13.039129625, 13.266402125, 13.493674625, 13.720947125, 13.948219625, 14.175492125, 14.402764625, 14.630037125, 14.857309625000001, 15.084582125, 15.311854625, 15.539127125, 15.766399625, 15.993672125, 16.220944625, 16.448217125, 16.675489625, 16.902762125000002, 17.130034625, 17.357307125, 17.584579625, 17.811852125, 18.039124625, 18.266397125, 18.493669625000003, 18.720942125, 18.948214625, 19.175487125, 19.402759625, 19.630032125, 19.857304624999998, 20.084577125000003, 20.311849625, 20.539122125, 20.766394624999997, 20.993667125, 21.220939625, 21.448212124999998, 21.675484625000003, 21.902757125, 22.130029625, 22.357302124999997, 22.584574625000002, 22.811847125, 23.039119624999998, 23.266392125000003, 23.493664625, 23.720937125, 23.948209624999997, 24.175482125000002, 24.402754625, 24.630027124999998, 24.857299625000003, 25.084572125, 25.831825833333337, 26.061844625000003, 26.289117125000004, 26.516389625000002, 26.743662125000004, 26.970934625, 27.198207125000003, 27.425479625000005, 27.652752125000003, 27.880024625000004, 28.107297125000002, 28.334569625000004, 28.561842125000002, 28.789114625000003, 29.016387125, 29.243659625000003, 29.470932125000004, 29.698204625000002, 29.925477125000004, 30.152749625000002, 30.380022125000004, 30.607294625, 30.834567125000003, 31.061839625000005, 31.289112125000003, 31.516384625000004, 31.743657125000002, 31.970929625000004, 32.198202125, 32.42547462500001, 32.652747125000005, 32.880019625, 33.107292125, 33.334564625000006, 33.561837125000004, 33.789109625, 34.01638212500001, 34.243654625000005, 34.470927125, 34.698199625, 34.925472125, 35.152744625000004, 35.380017125, 35.60728962500001, 35.834562125000005, 36.061834625, 36.289107125, 36.516379625, 36.743652125000004, 36.970924625, 37.19819712500001, 37.425469625000005, 37.652742125, 37.880014625, 38.107287125, 38.334559625000004, 38.561832125, 38.78910462500001, 39.016377125000005, 39.243649625, 39.470922125, 39.698194625, 39.925467125000004, 40.152739625, 40.38001212500001, 40.607284625000005, 40.834557125, 41.061829625, 41.289102125, 41.516374625000005, 41.743647125, 41.97091962500001, 42.198192125000006, 42.425464625000004, 42.652737125, 42.880009625, 43.107282125000005, 43.334554625, 43.56182712500001, 43.789099625000006, 44.016372125000004, 44.243644625, 44.470917125, 44.698189625000005, 44.925462125, 45.15273462500001, 45.380007125000006, 45.607279625000004, 45.834552125, 46.061824625, 46.289097125000005, 46.9955358125, 47.74004333333333, 47.948187125000004, 48.175459625, 48.402732125, 48.630004625, 48.857277125, 49.084549625, 49.311822125, 49.539094625000004, 49.766367125, 49.993639625, 50.220912125, 50.448184625, 50.675457125, 50.902729625, 51.130002125000004, 51.357274625, 51.584547125, 51.811819625, 52.039092125, 52.266364625, 52.493637125, 52.720909625000004, 52.948182125, 53.175454625, 53.402727125, 53.629999625, 53.857272125, 54.084544625, 54.311817125000005, 54.539089625, 54.766362125, 54.993634625, 55.220907125000004, 55.448179625, 55.675452125, 55.902724625000005, 56.129997125, 56.357269625, 56.584542125, 56.811814625, 57.039087125, 57.266359625, 57.493632125000005, 57.720904625, 57.948177125, 58.175449625, 58.402722125, 58.629994625, 58.857267125, 59.084539625000005, 59.311812125, 59.539084625, 59.766357125, 59.993629625, 60.220902125, 60.448174625, 60.675447125000005, 60.902719625, 61.129992125, 61.357264625, 61.584537125, 61.811809625, 62.039082125, 62.266354625000005, 62.493627125, 62.720899625, 62.948172125, 63.175444625, 63.402717125, 63.629989625, 63.857262125000005, 64.084534625, 64.311807125, 64.539079625, 64.766352125, 64.993624625, 65.220897125, 65.448169625, 65.675442125, 65.902714625, 66.129987125, 66.357259625, 66.58453212500001, 66.81180462500001, 67.039077125, 67.266349625, 67.493622125, 67.720894625, 67.948167125, 68.175439625, 68.402712125, 68.629984625, 68.857257125, 69.62638583333333, 69.834529625, 70.061802125, 70.289074625, 70.516347125, 70.743619625, 70.970892125, 71.198164625, 71.425437125, 71.652709625, 71.879982125, 72.107254625, 72.334527125, 72.56179962499999, 72.789072125, 73.016344625, 73.243617125, 73.470889625, 73.698162125, 73.925434625, 74.152707125, 74.379979625, 74.607252125, 74.834524625, 75.061797125, 75.289069625, 75.516342125, 75.74361462499999, 75.970887125, 76.198159625, 76.425432125, 76.652704625, 76.879977125, 77.107249625, 77.33452212499999, 77.561794625, 77.789067125, 78.016339625, 78.243612125, 78.470884625, 78.698157125, 78.92542962499999, 79.152702125, 79.379974625, 79.607247125, 79.834519625, 80.061792125, 80.289064625, 80.516337125, 80.743609625, 80.970882125, 81.198154625, 81.425427125, 81.652699625, 81.879972125, 82.10724462499999, 82.334517125, 82.561789625, 82.789062125, 83.016334625, 83.243607125, 83.470879625, 83.698152125, 83.925424625, 84.152697125, 84.379969625, 84.607242125, 84.834514625, 85.061787125, 85.289059625, 85.51633212499999, 85.743604625, 85.970877125, 86.198149625, 86.425422125, 86.652694625, 86.87996712500001, 87.107239625, 87.334512125, 87.561784625, 87.789057125, 88.016329625, 88.243602125, 88.470874625, 88.69814712499999, 88.925419625, 89.152692125, 89.379964625, 89.607237125, 89.834509625, 90.06178212500001, 90.289054625, 90.516327125, 90.743599625, 91.49085333333333, 91.720872125, 91.948144625, 92.175417125, 92.402689625, 92.62996212499999, 92.85723462499999, 93.084507125, 93.311779625, 93.539052125, 93.766324625, 93.993597125, 94.22086962499999, 94.448142125, 94.675414625, 94.902687125, 95.129959625, 95.357232125, 95.584504625, 95.81177712499999, 96.03904962499999, 96.266322125, 96.493594625, 96.720867125, 96.948139625, 97.175412125, 97.40268462499999, 97.629957125, 97.857229625, 98.084502125, 98.311774625, 98.539047125, 98.766319625, 98.99359212499999, 99.22086462499999, 99.448137125, 99.675409625, 99.902682125, 100.129954625, 100.357227125, 100.58449962499999, 100.811772125, 101.039044625, 101.266317125, 101.493589625, 101.720862125, 101.948134625, 102.17540712499999, 102.40267962499999, 102.629952125, 102.857224625, 103.084497125, 103.311769625, 103.539042125, 103.76631462499999, 103.99358712499999, 104.220859625, 104.448132125, 104.675404625, 104.902677125, 105.129949625, 105.35722212499999, 105.58449462499999, 105.811767125, 106.039039625, 106.266312125, 106.493584625, 106.720857125, 106.94812962499999, 107.17540212499999, 107.402674625, 107.629947125, 107.857219625, 108.084492125, 108.311764625, 108.539037125, 108.76630962499999, 108.99358212499999, 109.220854625, 109.448127125, 109.675399625, 109.902672125, 110.129944625, 110.357217125, 110.584489625, 110.811762125, 111.039034625, 111.266307125, 111.493579625, 111.720852125, 111.94812462499999, 112.17539712499999, 112.402669625, 112.629942125, 113.37719583333333, 113.607214625, 113.834487125, 114.061759625, 114.28903212499999, 114.51630462499999, 114.743577125, 114.970849625, 115.198122125, 115.425394625, 115.652667125, 115.87993962499999, 116.10721212499999, 116.33448462499999, 116.561757125, 116.789029625, 117.016302125, 117.243574625, 117.47084712499999, 117.69811962499999, 117.925392125, 118.152664625, 118.379937125, 118.607209625, 118.834482125, 119.06175462499999, 119.28902712499999, 119.51629962499999, 119.743572125, 119.970844625, 120.198117125, 120.425389625, 120.65266212499999, 120.87993462499999, 121.10720712499999, 121.334479625, 121.561752125, 121.789024625, 122.016297125, 122.24356962499999, 122.47084212499999, 122.69811462499999, 122.925387125, 123.152659625, 123.379932125, 123.607204625, 123.83447712499999, 124.06174962499999, 124.289022125, 124.516294625, 124.743567125, 124.970839625, 125.198112125, 125.42538462499999, 125.65265712499999, 125.87992962499999, 126.107202125, 126.334474625, 126.561747125, 126.789019625, 127.01629212499999, 127.24356462499999, 127.47083712499999, 127.698109625, 127.925382125, 128.152654625, 128.379927125, 128.607199625, 128.834472125, 129.061744625, 129.289017125, 129.51628962499998, 129.74356212499998, 129.970834625, 130.19810712499998, 130.425379625, 130.652652125, 130.879924625, 131.107197125, 131.334469625, 131.561742125, 131.789014625, 132.016287125, 132.243559625, 132.470832125, 132.69810462499998, 132.92537712499998, 133.15264962499998, 133.379922125, 133.607194625, 133.834467125, 134.5409058125};

// Original instrument
int instrument = 73;

int ind = 0; // Indice actual del sonido

// Nota mayor y menor
int minValue;
int maxValue;

float velocity = 1f;

float currentTime = 0;
float lastMillis = 0;


void setup_SoundManager(){
  readSong();
  minValue = 100;
  maxValue = 22;
  
  for (int i : pitch) {
    if (i<minValue) minValue = i;
    if (i>maxValue) maxValue = i;
  }
  
  minValue+= diametro;
  maxValue-= diametro;
  
}
void checkSound() {
   if (ind<pitch.length) {
     currentTime += velocity*(millis() - lastMillis)/1000.0;
     lastMillis = millis();
     
     if (currentTime<start[ind]) return;
     
     int xPos = (int)map(pitch[ind], minValue, maxValue, 0, width);
     list.add(new SoundBall(pitch[ind], start[ind], end[ind], xPos));
     ind++;
   }
}
